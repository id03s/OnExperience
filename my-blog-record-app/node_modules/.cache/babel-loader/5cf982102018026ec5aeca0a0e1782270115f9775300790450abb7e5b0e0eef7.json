{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\my-blog-record-app\\\\src\\\\components\\\\KakaoMap.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KakaoMap = ({\n  records = []\n}) => {\n  _s();\n  const mapRef = useRef(null); // 지도 객체 참조\n  const markersRef = useRef([]); // 마커들 저장\n\n  useEffect(() => {\n    const initMap = () => {\n      const container = document.getElementById('map');\n      if (!container) return;\n      const map = new window.kakao.maps.Map(container, {\n        center: new window.kakao.maps.LatLng(36.5, 127.5),\n        level: 12\n      });\n      mapRef.current = map;\n    };\n    if (!window.kakao || !window.kakao.maps) {\n      const script = document.createElement('script');\n      script.src = '//dapi.kakao.com/v2/maps/sdk.js?appkey=eb46d70dcce4c3347f6e67a7afcfa896&autoload=false&libraries=services';\n      script.async = true;\n      script.onload = () => {\n        window.kakao.maps.load(initMap);\n      };\n      document.head.appendChild(script);\n    } else {\n      window.kakao.maps.load(initMap);\n    }\n  }, []);\n  useEffect(() => {\n    if (!window.kakao || !mapRef.current) return;\n    const map = mapRef.current;\n    const geocoder = new window.kakao.maps.services.Geocoder();\n    const bounds = new window.kakao.maps.LatLngBounds();\n\n    // 이전 마커 제거\n    markersRef.current.forEach(marker => marker.setMap(null));\n    markersRef.current = [];\n    let completed = 0;\n    records.forEach(record => {\n      const address = record.address;\n      if (!address) return completed++;\n      geocoder.addressSearch(address, (result, status) => {\n        completed++;\n        if (status === window.kakao.maps.services.Status.OK) {\n          const coords = new window.kakao.maps.LatLng(result[0].y, result[0].x);\n          const marker = new window.kakao.maps.Marker({\n            position: coords,\n            map: map\n          });\n          markersRef.current.push(marker);\n          bounds.extend(coords);\n        } else {\n          console.warn('❌ 주소 검색 실패:', address);\n        }\n        if (completed === records.length && !bounds.isEmpty()) {\n          map.setBounds(bounds); // 마커 범위 기준 자동 조정\n        }\n      });\n    });\n  }, [records]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"map\",\n    style: {\n      width: '100%',\n      height: '500px'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 10\n  }, this);\n};\n_s(KakaoMap, \"Sb1doZEiBErLIY1/N+98oSK+594=\");\n_c = KakaoMap;\nexport default KakaoMap;\nvar _c;\n$RefreshReg$(_c, \"KakaoMap\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","KakaoMap","records","_s","mapRef","markersRef","initMap","container","document","getElementById","map","window","kakao","maps","Map","center","LatLng","level","current","script","createElement","src","async","onload","load","head","appendChild","geocoder","services","Geocoder","bounds","LatLngBounds","forEach","marker","setMap","completed","record","address","addressSearch","result","status","Status","OK","coords","y","x","Marker","position","push","extend","console","warn","length","isEmpty","setBounds","id","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/my-blog-record-app/src/components/KakaoMap.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\n\r\nconst KakaoMap = ({ records = [] }) => {\r\n  const mapRef = useRef(null);           // 지도 객체 참조\r\n  const markersRef = useRef([]);         // 마커들 저장\r\n\r\n  useEffect(() => {\r\n    const initMap = () => {\r\n      const container = document.getElementById('map');\r\n      if (!container) return;\r\n\r\n      const map = new window.kakao.maps.Map(container, {\r\n        center: new window.kakao.maps.LatLng(36.5, 127.5),\r\n        level: 12,\r\n      });\r\n\r\n      mapRef.current = map;\r\n    };\r\n\r\n    if (!window.kakao || !window.kakao.maps) {\r\n      const script = document.createElement('script');\r\n      script.src = '//dapi.kakao.com/v2/maps/sdk.js?appkey=eb46d70dcce4c3347f6e67a7afcfa896&autoload=false&libraries=services';\r\n      script.async = true;\r\n      script.onload = () => {\r\n        window.kakao.maps.load(initMap);\r\n      };\r\n      document.head.appendChild(script);\r\n    } else {\r\n      window.kakao.maps.load(initMap);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!window.kakao || !mapRef.current) return;\r\n\r\n    const map = mapRef.current;\r\n    const geocoder = new window.kakao.maps.services.Geocoder();\r\n    const bounds = new window.kakao.maps.LatLngBounds();\r\n\r\n    // 이전 마커 제거\r\n    markersRef.current.forEach(marker => marker.setMap(null));\r\n    markersRef.current = [];\r\n\r\n    let completed = 0;\r\n\r\n    records.forEach((record) => {\r\n      const address = record.address;\r\n      if (!address) return completed++;\r\n\r\n      geocoder.addressSearch(address, (result, status) => {\r\n        completed++;\r\n\r\n        if (status === window.kakao.maps.services.Status.OK) {\r\n          const coords = new window.kakao.maps.LatLng(result[0].y, result[0].x);\r\n          const marker = new window.kakao.maps.Marker({\r\n            position: coords,\r\n            map: map,\r\n          });\r\n\r\n          markersRef.current.push(marker);\r\n          bounds.extend(coords);\r\n        } else {\r\n          console.warn('❌ 주소 검색 실패:', address);\r\n        }\r\n\r\n        if (completed === records.length && !bounds.isEmpty()) {\r\n          map.setBounds(bounds); // 마커 범위 기준 자동 조정\r\n        }\r\n      });\r\n    });\r\n  }, [records]);\r\n\r\n  return <div id=\"map\" style={{ width: '100%', height: '500px' }} />;\r\n};\r\n\r\nexport default KakaoMap;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}