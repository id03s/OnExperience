{"ast":null,"code":"import React,{useEffect,useState}from'react';import ReviewForm from'../components/ReviewForm';import KakaoMap from'../components/KakaoMap';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function WritePage(){const[reviews,setReviews]=useState([]);// üöÄ ÌéòÏù¥ÏßÄ ÎßàÏö¥Ìä∏ Ïãú Î™®Îì† Î¶¨Î∑∞ Î∂àÎü¨Ïò§Í∏∞\nuseEffect(()=>{const fetchReviews=async()=>{try{const res=await fetch('http://localhost:4000/api/reviews');const data=await res.json();setReviews(data);// ‚úÖ Ï†ÑÏ≤¥ Î¶¨Î∑∞ stateÎ°ú Ï†ÄÏû•\n}catch(err){console.error('Î¶¨Î∑∞ Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:',err);}};fetchReviews();},[]);// ‚úçÔ∏è Î¶¨Î∑∞ Îì±Î°ù Ìï∏Îì§Îü¨\nconst handleSubmit=async reviewData=>{console.log('üì¶ ÌîÑÎ°†Ìä∏ÏóêÏÑú Î∞õÏùÄ Îç∞Ïù¥ÌÑ∞:',reviewData);try{const response=await fetch('http://localhost:4000/api/reviews',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(reviewData)});if(response.ok){alert('Î¶¨Î∑∞Í∞Ä Îì±Î°ùÎêòÏóàÏäµÎãàÎã§!');// ‚úÖ ÏÉà Î¶¨Î∑∞Î•º reviews Î∞∞Ïó¥Ïóê Ï∂îÍ∞Ä\nsetReviews(prev=>[...prev,reviewData]);}else{console.error('‚ùå ÏùëÎãµ Ïã§Ìå®:',response.status);}}catch(error){console.error('üî• Î¶¨Î∑∞ Îì±Î°ù Ïã§Ìå®:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:\"\\uB9AC\\uBDF0 \\uC791\\uC131\"}),/*#__PURE__*/_jsx(ReviewForm,{onSubmit:handleSubmit}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-8 text-xl font-semibold\",children:\"\\uD83D\\uDCCD \\uC9C0\\uB3C4\\uC5D0\\uC11C \\uBCF4\\uAE30\"}),reviews.length>0&&/*#__PURE__*/_jsx(KakaoMap,{records:reviews})]});}export default WritePage;","map":{"version":3,"names":["React","useEffect","useState","ReviewForm","KakaoMap","jsx","_jsx","jsxs","_jsxs","WritePage","reviews","setReviews","fetchReviews","res","fetch","data","json","err","console","error","handleSubmit","reviewData","log","response","method","headers","body","JSON","stringify","ok","alert","prev","status","className","children","onSubmit","length","records"],"sources":["C:/Users/user/Desktop/my-blog-record-app/src/pages/WritePage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport ReviewForm from '../components/ReviewForm';\r\nimport KakaoMap from '../components/KakaoMap';\r\n\r\nfunction WritePage() {\r\n  const [reviews, setReviews] = useState([]);\r\n\r\n  // üöÄ ÌéòÏù¥ÏßÄ ÎßàÏö¥Ìä∏ Ïãú Î™®Îì† Î¶¨Î∑∞ Î∂àÎü¨Ïò§Í∏∞\r\n  useEffect(() => {\r\n    const fetchReviews = async () => {\r\n      try {\r\n        const res = await fetch('http://localhost:4000/api/reviews');\r\n        const data = await res.json();\r\n        setReviews(data); // ‚úÖ Ï†ÑÏ≤¥ Î¶¨Î∑∞ stateÎ°ú Ï†ÄÏû•\r\n      } catch (err) {\r\n        console.error('Î¶¨Î∑∞ Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:', err);\r\n      }\r\n    };\r\n\r\n    fetchReviews();\r\n  }, []);\r\n\r\n  // ‚úçÔ∏è Î¶¨Î∑∞ Îì±Î°ù Ìï∏Îì§Îü¨\r\n  const handleSubmit = async (reviewData) => {\r\n    console.log('üì¶ ÌîÑÎ°†Ìä∏ÏóêÏÑú Î∞õÏùÄ Îç∞Ïù¥ÌÑ∞:', reviewData);\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:4000/api/reviews', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(reviewData),\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('Î¶¨Î∑∞Í∞Ä Îì±Î°ùÎêòÏóàÏäµÎãàÎã§!');\r\n        // ‚úÖ ÏÉà Î¶¨Î∑∞Î•º reviews Î∞∞Ïó¥Ïóê Ï∂îÍ∞Ä\r\n        setReviews((prev) => [...prev, reviewData]);\r\n      } else {\r\n        console.error('‚ùå ÏùëÎãµ Ïã§Ìå®:', response.status);\r\n      }\r\n    } catch (error) {\r\n      console.error('üî• Î¶¨Î∑∞ Îì±Î°ù Ïã§Ìå®:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">Î¶¨Î∑∞ ÏûëÏÑ±</h1>\r\n      <ReviewForm onSubmit={handleSubmit} />\r\n\r\n      <h2 className=\"mt-8 text-xl font-semibold\">üìç ÏßÄÎèÑÏóêÏÑú Î≥¥Í∏∞</h2>\r\n      {/* ‚úÖ Ïù¥Ï†ú Î™®Îì† Î¶¨Î∑∞Î•º ÏßÄÎèÑÏóê ÌëúÏãú */}\r\n      {reviews.length > 0 && <KakaoMap records={reviews} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WritePage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAE1C;AACAD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,mCAAmC,CAAC,CAC5D,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,GAAG,CAACG,IAAI,CAAC,CAAC,CAC7BL,UAAU,CAACI,IAAI,CAAC,CAAE;AACpB,CAAE,MAAOE,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,aAAa,CAAEF,GAAG,CAAC,CACnC,CACF,CAAC,CAEDL,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAQ,YAAY,CAAG,KAAO,CAAAC,UAAU,EAAK,CACzCH,OAAO,CAACI,GAAG,CAAC,kBAAkB,CAAED,UAAU,CAAC,CAE3C,GAAI,CACF,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAAC,mCAAmC,CAAE,CAChEU,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACP,UAAU,CACjC,CAAC,CAAC,CAEF,GAAIE,QAAQ,CAACM,EAAE,CAAE,CACfC,KAAK,CAAC,cAAc,CAAC,CACrB;AACAnB,UAAU,CAAEoB,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAEV,UAAU,CAAC,CAAC,CAC7C,CAAC,IAAM,CACLH,OAAO,CAACC,KAAK,CAAC,UAAU,CAAEI,QAAQ,CAACS,MAAM,CAAC,CAC5C,CACF,CAAE,MAAOb,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,cAAc,CAAEA,KAAK,CAAC,CACtC,CACF,CAAC,CAED,mBACEX,KAAA,QAAKyB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClB5B,IAAA,OAAI2B,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,2BAAK,CAAI,CAAC,cAClD5B,IAAA,CAACH,UAAU,EAACgC,QAAQ,CAAEf,YAAa,CAAE,CAAC,cAEtCd,IAAA,OAAI2B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,oDAAU,CAAI,CAAC,CAEzDxB,OAAO,CAAC0B,MAAM,CAAG,CAAC,eAAI9B,IAAA,CAACF,QAAQ,EAACiC,OAAO,CAAE3B,OAAQ,CAAE,CAAC,EAClD,CAAC,CAEV,CAEA,cAAe,CAAAD,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}